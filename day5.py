inp = """        [H]         [S]         [D]
    [S] [C]         [C]     [Q] [L]
    [C] [R] [Z]     [R]     [H] [Z]
    [G] [N] [H] [S] [B]     [R] [F]
[D] [T] [Q] [F] [Q] [Z]     [Z] [N]
[Z] [W] [F] [N] [F] [W] [J] [V] [G]
[T] [R] [B] [C] [L] [P] [F] [L] [H]
[H] [Q] [P] [L] [G] [V] [Z] [D] [B]
 1   2   3   4   5   6   7   8   9 

move1 2 from 7 to 2
move1 1 from 4 to 8
move1 2 from 1 to 9
move1 4 from 6 to 5
move1 1 from 7 to 6
move1 2 from 1 to 4
move1 7 from 8 to 9
move1 7 from 4 to 5
move1 4 from 2 to 4
move1 1 from 5 to 9
move1 14 from 5 to 4
move1 1 from 3 to 8
move1 5 from 4 to 8
move1 1 from 2 to 5
move1 2 from 4 to 1
move1 6 from 8 to 1
move1 1 from 8 to 6
move1 1 from 2 to 5
move1 5 from 3 to 7
move1 2 from 6 to 3
move1 2 from 4 to 7
move1 3 from 3 to 9
move1 7 from 4 to 1
move1 1 from 6 to 9
move1 2 from 6 to 1
move1 3 from 5 to 2
move1 1 from 1 to 8
move1 21 from 9 to 1
move1 1 from 4 to 2
move1 7 from 7 to 2
move1 1 from 4 to 2
move1 23 from 1 to 5
move1 5 from 5 to 1
move1 1 from 3 to 6
move1 1 from 6 to 3
move1 12 from 1 to 6
move1 1 from 3 to 6
move1 2 from 1 to 8
move1 1 from 9 to 3
move1 2 from 8 to 1
move1 2 from 1 to 8
move1 1 from 1 to 3
move1 2 from 3 to 1
move1 2 from 8 to 1
move1 3 from 6 to 1
move1 1 from 8 to 7
move1 4 from 6 to 2
move1 3 from 6 to 9
move1 2 from 5 to 7
move1 2 from 7 to 8
move1 1 from 7 to 9
move1 9 from 1 to 5
move1 12 from 5 to 9
move1 1 from 8 to 6
move1 1 from 6 to 9
move1 1 from 6 to 9
move1 7 from 9 to 4
move1 10 from 2 to 1
move1 12 from 5 to 4
move1 7 from 4 to 9
move1 7 from 4 to 7
move1 1 from 5 to 4
move1 7 from 7 to 8
move1 1 from 6 to 3
move1 1 from 3 to 1
move1 3 from 2 to 4
move1 1 from 6 to 8
move1 7 from 1 to 2
move1 1 from 6 to 7
move1 12 from 9 to 4
move1 3 from 8 to 5
move1 1 from 7 to 3
move1 6 from 9 to 1
move1 10 from 1 to 9
move1 7 from 9 to 5
move1 3 from 9 to 5
move1 1 from 3 to 4
move1 2 from 2 to 1
move1 1 from 5 to 1
move1 9 from 4 to 3
move1 1 from 1 to 3
move1 8 from 4 to 7
move1 7 from 5 to 3
move1 2 from 7 to 2
move1 8 from 3 to 9
move1 1 from 1 to 8
move1 10 from 2 to 3
move1 4 from 8 to 7
move1 12 from 3 to 4
move1 9 from 7 to 2
move1 2 from 1 to 3
move1 1 from 9 to 6
move1 2 from 4 to 9
move1 1 from 7 to 6
move1 5 from 5 to 9
move1 8 from 3 to 1
move1 2 from 6 to 3
move1 14 from 4 to 3
move1 15 from 3 to 9
move1 1 from 3 to 1
move1 3 from 9 to 8
move1 1 from 8 to 1
move1 1 from 3 to 2
move1 5 from 2 to 8
move1 1 from 4 to 2
move1 2 from 1 to 3
move1 2 from 3 to 9
move1 3 from 2 to 4
move1 6 from 1 to 8
move1 2 from 2 to 6
move1 1 from 6 to 4
move1 2 from 4 to 7
move1 5 from 8 to 5
move1 1 from 6 to 9
move1 7 from 9 to 6
move1 1 from 5 to 3
move1 2 from 7 to 8
move1 2 from 2 to 4
move1 3 from 5 to 6
move1 1 from 3 to 8
move1 1 from 5 to 6
move1 2 from 4 to 1
move1 3 from 1 to 6
move1 21 from 9 to 5
move1 1 from 4 to 3
move1 1 from 4 to 9
move1 2 from 9 to 2
move1 1 from 3 to 9
move1 4 from 2 to 3
move1 3 from 8 to 1
move1 14 from 5 to 9
move1 7 from 5 to 4
move1 3 from 8 to 4
move1 4 from 3 to 2
move1 3 from 8 to 5
move1 1 from 2 to 3
move1 1 from 5 to 1
move1 2 from 5 to 4
move1 3 from 2 to 9
move1 11 from 4 to 1
move1 17 from 9 to 2
move1 17 from 2 to 9
move1 10 from 9 to 2
move1 2 from 8 to 2
move1 3 from 8 to 3
move1 8 from 9 to 7
move1 4 from 7 to 3
move1 2 from 3 to 2
move1 3 from 2 to 3
move1 9 from 3 to 5
move1 1 from 1 to 9
move1 8 from 5 to 1
move1 2 from 7 to 9
move1 24 from 1 to 3
move1 24 from 3 to 6
move1 1 from 5 to 3
move1 10 from 2 to 1
move1 1 from 4 to 5
move1 3 from 9 to 1
move1 1 from 3 to 5
move1 17 from 6 to 5
move1 1 from 7 to 4
move1 13 from 5 to 4
move1 3 from 5 to 8
move1 1 from 7 to 9
move1 3 from 6 to 9
move1 8 from 6 to 4
move1 1 from 9 to 6
move1 11 from 1 to 8
move1 1 from 5 to 6
move1 12 from 4 to 9
move1 2 from 5 to 1
move1 1 from 1 to 7
move1 5 from 9 to 2
move1 1 from 7 to 9
move1 3 from 1 to 5
move1 3 from 5 to 9
move1 7 from 9 to 3
move1 4 from 9 to 6
move1 3 from 6 to 8
move1 5 from 4 to 3
move1 2 from 2 to 6
move1 3 from 9 to 3
move1 3 from 6 to 4
move1 4 from 2 to 6
move1 11 from 3 to 5
move1 11 from 6 to 9
move1 2 from 3 to 5
move1 1 from 5 to 8
move1 3 from 6 to 2
move1 7 from 9 to 2
move1 8 from 5 to 7
move1 6 from 4 to 5
move1 2 from 4 to 3
move1 1 from 8 to 6
move1 4 from 8 to 3
move1 13 from 8 to 3
move1 1 from 9 to 5
move1 6 from 7 to 2
move1 1 from 7 to 6
move1 1 from 6 to 5
move1 2 from 6 to 7
move1 13 from 3 to 5
move1 6 from 2 to 7
move1 1 from 6 to 1
move1 1 from 2 to 8
move1 2 from 7 to 8
move1 14 from 5 to 8
move1 1 from 1 to 4
move1 9 from 2 to 1
move1 14 from 8 to 7
move1 3 from 3 to 9
move1 11 from 5 to 3
move1 1 from 4 to 5
move1 4 from 9 to 8
move1 4 from 8 to 7
move1 5 from 3 to 9
move1 11 from 7 to 8
move1 9 from 1 to 3
move1 4 from 3 to 2
move1 6 from 8 to 4
move1 2 from 8 to 2
move1 13 from 3 to 6
move1 1 from 4 to 1
move1 5 from 4 to 2
move1 10 from 2 to 6
move1 4 from 9 to 1
move1 8 from 7 to 8
move1 10 from 8 to 5
move1 2 from 3 to 2
move1 2 from 8 to 6
move1 1 from 7 to 1
move1 2 from 7 to 6
move1 2 from 2 to 9
move1 2 from 8 to 6
move1 6 from 1 to 7
move1 5 from 9 to 1
move1 4 from 7 to 8
move1 1 from 7 to 2
move1 2 from 1 to 7
move1 1 from 3 to 8
move1 1 from 1 to 6
move1 2 from 2 to 6
move1 1 from 7 to 8
move1 1 from 1 to 9
move1 8 from 5 to 7
move1 2 from 7 to 9
move1 9 from 6 to 3
move1 13 from 6 to 8
move1 3 from 9 to 1
move1 5 from 6 to 1
move1 3 from 8 to 1
move1 3 from 3 to 4
move1 1 from 4 to 3
move1 1 from 4 to 8
move1 4 from 6 to 3
move1 11 from 8 to 2
move1 1 from 6 to 9
move1 8 from 3 to 9
move1 3 from 5 to 8
move1 4 from 1 to 2
move1 6 from 8 to 5
move1 6 from 5 to 1
move1 5 from 1 to 3
move1 3 from 3 to 4
move1 3 from 8 to 4
move1 2 from 4 to 5
move1 10 from 7 to 8
move1 5 from 9 to 2
move1 1 from 7 to 5
move1 3 from 5 to 2
move1 4 from 9 to 3
move1 4 from 1 to 5
move1 1 from 3 to 2
move1 3 from 5 to 2
move1 6 from 2 to 5
move1 10 from 8 to 3
move1 4 from 4 to 5
move1 4 from 2 to 8
move1 12 from 3 to 8
move1 1 from 1 to 3
move1 9 from 8 to 6
move1 1 from 4 to 1
move1 6 from 8 to 7
move1 3 from 1 to 7
move1 9 from 5 to 7
move1 11 from 7 to 2
move1 2 from 7 to 3
move1 9 from 2 to 7
move1 1 from 8 to 7
move1 1 from 5 to 2
move1 2 from 6 to 2
move1 2 from 1 to 2
move1 6 from 3 to 5
move1 2 from 3 to 6
move1 4 from 7 to 3
move1 3 from 3 to 1
move1 2 from 1 to 5
move1 7 from 7 to 6
move1 1 from 1 to 5
move1 3 from 2 to 4
move1 1 from 3 to 2
move1 18 from 2 to 1
move1 4 from 2 to 7
move1 6 from 5 to 9
move1 1 from 4 to 8
move1 2 from 6 to 1
move1 19 from 1 to 2
move1 4 from 9 to 5
move1 5 from 7 to 2
move1 1 from 8 to 7
move1 1 from 1 to 2
move1 6 from 5 to 7
move1 1 from 3 to 8
move1 6 from 7 to 6
move1 1 from 4 to 1
move1 4 from 7 to 9
move1 1 from 1 to 3
move1 1 from 2 to 5
move1 1 from 4 to 8
move1 1 from 3 to 4
move1 3 from 5 to 4
move1 2 from 8 to 9
move1 9 from 2 to 4
move1 19 from 6 to 4
move1 1 from 4 to 7
move1 5 from 9 to 5
move1 10 from 2 to 9
move1 2 from 5 to 4
move1 14 from 4 to 7
move1 2 from 2 to 1
move1 3 from 9 to 1
move1 1 from 1 to 3
move1 13 from 7 to 6
move1 1 from 5 to 9
move1 1 from 6 to 9
move1 1 from 7 to 2
move1 5 from 9 to 7
move1 1 from 5 to 2
move1 3 from 7 to 3
move1 3 from 4 to 9
move1 1 from 5 to 2
move1 4 from 4 to 2
move1 2 from 7 to 3
move1 4 from 1 to 6
move1 1 from 7 to 9
move1 11 from 9 to 5
move1 8 from 2 to 9
move1 6 from 9 to 6
move1 8 from 4 to 5
move1 14 from 5 to 6
move1 1 from 5 to 4
move1 3 from 5 to 1
move1 1 from 5 to 2
move1 2 from 6 to 4
move1 2 from 4 to 2
move1 1 from 9 to 2
move1 1 from 2 to 3
move1 1 from 9 to 3
move1 3 from 2 to 7
move1 7 from 6 to 7
move1 5 from 4 to 3
move1 23 from 6 to 1
move1 5 from 7 to 2
move1 22 from 1 to 6
move1 6 from 6 to 3
move1 6 from 2 to 4
move1 6 from 4 to 1
move1 3 from 7 to 8
move1 3 from 1 to 8
move1 4 from 3 to 2
move1 1 from 1 to 3
move1 3 from 3 to 1
move1 1 from 7 to 5
move1 1 from 6 to 5
move1 1 from 7 to 4
move1 4 from 6 to 9
move1 5 from 3 to 6
move1 2 from 2 to 1
move1 3 from 9 to 4
move1 11 from 1 to 9
move1 2 from 4 to 7
move1 4 from 6 to 1
move1 1 from 5 to 4
move1 5 from 8 to 9
move1 1 from 7 to 1
move1 3 from 2 to 7
move1 4 from 1 to 2
move1 3 from 4 to 2
move1 1 from 8 to 5
move1 1 from 5 to 4
move1 1 from 5 to 4
move1 5 from 6 to 1
move1 3 from 7 to 6
move1 5 from 2 to 8
move1 15 from 9 to 2
move1 1 from 3 to 9
move1 10 from 6 to 8
move1 1 from 4 to 9
move1 1 from 8 to 3
move1 1 from 4 to 6
move1 4 from 6 to 3
move1 2 from 9 to 7
move1 1 from 7 to 6
move1 1 from 1 to 6
move1 3 from 3 to 8
move1 2 from 7 to 8
move1 3 from 8 to 4
move1 12 from 2 to 9
move1 14 from 9 to 5
move1 12 from 8 to 2
move1 1 from 6 to 7
move1 8 from 3 to 1
move1 2 from 4 to 6
move1 1 from 3 to 6
move1 5 from 6 to 1
move1 17 from 1 to 2
move1 29 from 2 to 1
move1 1 from 8 to 5
move1 1 from 4 to 3
move1 1 from 8 to 5
move1 1 from 8 to 7
move1 5 from 2 to 1
move1 1 from 3 to 5
move1 1 from 6 to 4
move1 6 from 5 to 8
move1 1 from 4 to 9
move1 1 from 7 to 2
move1 1 from 2 to 6
move1 7 from 8 to 7
move1 1 from 6 to 9
move1 2 from 9 to 2
move1 2 from 2 to 8
move1 15 from 1 to 2
move1 2 from 8 to 3
move1 9 from 1 to 2
move1 24 from 2 to 7
move1 11 from 1 to 2
move1 1 from 3 to 1
move1 22 from 7 to 6
move1 6 from 5 to 2
move1 2 from 6 to 5
move1 1 from 1 to 9
move1 1 from 9 to 6
move1 6 from 5 to 1
move1 12 from 6 to 2
move1 3 from 1 to 5
move1 1 from 3 to 2
move1 25 from 2 to 6
move1 4 from 7 to 5
move1 8 from 5 to 4
move1 4 from 4 to 8
move1 1 from 1 to 8
move1 5 from 8 to 4
move1 4 from 4 to 1
move1 2 from 1 to 9
move1 20 from 6 to 8
move1 4 from 2 to 6
move1 19 from 8 to 7
move1 2 from 9 to 3
move1 1 from 8 to 2
move1 11 from 6 to 7
move1 3 from 1 to 2
move1 5 from 4 to 3
move1 1 from 1 to 3
move1 1 from 3 to 5
move1 2 from 2 to 8
move1 33 from 7 to 3
move1 1 from 5 to 3
move1 1 from 8 to 7
move1 1 from 7 to 4
move1 5 from 6 to 8
move1 2 from 7 to 6
move1 2 from 2 to 3
move1 1 from 2 to 5
move1 1 from 7 to 9
move1 1 from 5 to 7
move1 1 from 8 to 2
move1 1 from 4 to 3
move1 43 from 3 to 7
move1 1 from 3 to 8
move1 1 from 6 to 8
move1 8 from 7 to 5
move1 3 from 5 to 3
move1 1 from 6 to 4
move1 2 from 6 to 7
move1 4 from 8 to 7
move1 3 from 3 to 2
move1 1 from 9 to 6
move1 3 from 8 to 3
move1 1 from 6 to 7
move1 1 from 4 to 6
move1 1 from 3 to 7
move1 1 from 3 to 2
move1 5 from 2 to 5
move1 1 from 6 to 1
move1 1 from 3 to 2
move1 42 from 7 to 5
move1 44 from 5 to 4
move1 2 from 5 to 8
move1 1 from 7 to 3
move1 16 from 4 to 6
move1 3 from 5 to 9"""

data = inp.split("\n")

def move1(stacks, source, destination, n):
    for i in range(n):
        target = stacks[source-1].pop(0)
        stacks[destination-1].insert(0, target)

def moveN(stacks, source, destination, n):
    for i in range(n):
        target = stacks[source-1].pop(n-i-1)
        stacks[destination-1].insert(0, target)

def part(data, f):
    stacks = [[], [], [], [], [], [], [], [], []]
    for i in range(8):
        line = data[i] + " "
        for j in range(9):
            if line[4*j:4*(j+1)] != "    ":
                stacks[j].append(line[4*j+1])

    for i in range(10, 513):
        words = data[i].split(" ")
        f(stacks, int(words[3]), int(words[5]), int(words[1]))

    return stacks

stacks1 = part(data, move1)
print("Day 5 Part 1 result is: ", end="")
for i in range(len(stacks1)):
    print(stacks1[i][0], end="")
print("")

stacks2 = part(data, moveN)
print("Day 5 Part 2 result is: ", end="")
for i in range(len(stacks2)):
    print(stacks2[i][0], end="")
print("")

